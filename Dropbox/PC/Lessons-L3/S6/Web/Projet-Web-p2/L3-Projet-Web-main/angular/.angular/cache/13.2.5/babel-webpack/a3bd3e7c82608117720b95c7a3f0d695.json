{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\flori\\\\Dropbox\\\\PC\\\\Lessons-L3\\\\S6\\\\Web\\\\Projet-Web-p2\\\\L3-Projet-Web-main\\\\angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\flori\\\\Dropbox\\\\PC\\\\Lessons-L3\\\\S6\\\\Web\\\\Projet-Web-p2\\\\L3-Projet-Web-main\\\\angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { CreatorService } from '../services/creator.service';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/creator.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../creators/creators.component\";\n\nfunction CreatorViewComponent_app_creators_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-creators\", 7);\n    i0.ɵɵtext(1, \" [id]=\\\"creator.id\\\" \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var creator_r1 = ctx.$implicit;\n    var i_r2 = ctx.index;\n    i0.ɵɵproperty(\"index\", i_r2)(\"creatorName\", creator_r1.name)(\"creatorStatus\", creator_r1.status);\n  }\n}\n\nexport var CreatorViewComponent = /*#__PURE__*/(function () {\n  var CreatorViewComponent = /*#__PURE__*/function () {\n    function CreatorViewComponent(creatorService, router) {\n      var _this = this;\n\n      _classCallCheck(this, CreatorViewComponent);\n\n      this.creatorService = creatorService;\n      this.router = router;\n      this.id = 0;\n      this.title = 'creators';\n      this.creators = Array();\n      this.isAuth = false;\n      this.creatorSubscription = new Subscription();\n      this.authStatus = false;\n      this.lastUpdate = new Promise(function (resolve, reject) {\n        var date = new Date();\n        setTimeout(function () {\n          resolve(date);\n        }, 3000);\n      });\n      setTimeout(function () {\n        _this.isAuth = true;\n      }, 4000);\n    }\n\n    _createClass(CreatorViewComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this2 = this;\n\n        this.creatorSubscription = this.creatorService.creatorsSubject.subscribe(function (creators) {\n          _this2.creators = creators;\n        });\n        this.creatorService.emitCreatorSubject();\n      }\n    }, {\n      key: \"allPresent\",\n      value: function allPresent() {\n        alert('Ils sont tous là !');\n        this.creatorService.switchOnAll();\n      }\n    }, {\n      key: \"allAbsent\",\n      value: function allAbsent() {\n        if (confirm('Etes-vous sûr qu\\’ils sont tous absents ?')) {\n          return this.creatorService.switchOffAll();\n        } else {\n          return null;\n        }\n      }\n    }, {\n      key: \"ngOnDestroy\",\n      value: function ngOnDestroy() {\n        this.creatorSubscription.unsubscribe();\n      }\n    }]);\n\n    return CreatorViewComponent;\n  }();\n\n  CreatorViewComponent.ɵfac = function CreatorViewComponent_Factory(t) {\n    return new (t || CreatorViewComponent)(i0.ɵɵdirectiveInject(i1.CreatorService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  CreatorViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreatorViewComponent,\n    selectors: [[\"app-creator-view\"]],\n    inputs: {\n      id: \"id\"\n    },\n    decls: 15,\n    vars: 8,\n    consts: [[1, \"container\"], [1, \"row\"], [1, \"col-xs-12\"], [1, \"list-group\"], [3, \"index\", \"creatorName\", \"creatorStatus\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-danger\", 3, \"disabled\", \"click\"], [3, \"index\", \"creatorName\", \"creatorStatus\"]],\n    template: function CreatorViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\");\n        i0.ɵɵtext(4, \"Les cr\\xE9ateurs \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"p\");\n        i0.ɵɵtext(6);\n        i0.ɵɵpipe(7, \"date\");\n        i0.ɵɵpipe(8, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"ul\", 3);\n        i0.ɵɵtemplate(10, CreatorViewComponent_app_creators_10_Template, 2, 3, \"app-creators\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function CreatorViewComponent_Template_button_click_11_listener() {\n          return ctx.allPresent();\n        });\n        i0.ɵɵtext(12, \"Tous Pr\\xE9sents \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function CreatorViewComponent_Template_button_click_13_listener() {\n          return ctx.allAbsent();\n        });\n        i0.ɵɵtext(14, \"Tous Absent \");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" Mis \\xE0 jour : \", i0.ɵɵpipeBind1(7, 4, i0.ɵɵpipeBind1(8, 6, ctx.lastUpdate)), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.creators);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.isAuth);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", !ctx.isAuth);\n      }\n    },\n    directives: [i3.NgForOf, i4.CreatorsComponent],\n    pipes: [i3.DatePipe, i3.AsyncPipe],\n    styles: [\"*[_ngcontent-%COMP%]{text-align:center}.row[_ngcontent-%COMP%]{padding-top:50px}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], .list-group[_ngcontent-%COMP%]{padding-top:25px;padding-bottom:25px}\"]\n  });\n  return CreatorViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}